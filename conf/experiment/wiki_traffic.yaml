# @package _global_

defaults:
  #  - callbacks/gpu_monitoring: gpu_monitoring
  - /visualization: wiki
  - override /model: unconditional_ffw_model
  - override /datamodule: wiki_traffic
  - override /datamodule/dataset: wiki_base_dataset
  - override /hydra/launcher: strand
  - override /latent_space: pareto

latent_space:
  alpha: 0.66
  scale: 1.

debug: false

model:
  width: 500

trainer:
  fast_dev_run: false
  num_sanity_val_steps: 5
  max_epochs: 40

logger:
  tensorboard:
    default_hp_metric: False

  #hydra:
  job:
    name: GNNN_wiki
  sweep:
    dir: /gpfs/work/machnitz/GNN_out/multirun/wiki/${now:%Y-%m-%d}/${now:%H-%M-%S}
  launcher:
    cpus_per_task: 4
    array_parallelism: 100
    partition: pGPU

datamodule:
  num_workers: ${hydra:launcher.cpus_per_task}
  batch_size: 2048
  data_file: "C:/Users/Tobias/Downloads/train_1.csv/train_1.csv"
  train_size: 0.8

lightning_module:
  ensemble_size: 200

loss:
  func: "lambda x: torch.pow(abs(x+0.1), p)"
  centralize: true
  random_power_max: 4
  use_first_loss_term: true
  use_random_loss_term: true
  use_second_loss_term: false

optimizer:
  lr: 0.0002
